<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Submit your enquiries</title>
    <link href="/static/style.css" rel="stylesheet">
  </head>
  <body>

    <div class="mainAndAside">
      <main>


<div id="Comments">
    <h1> Submit your Comments </h1>
  <h3> got any comments or concerns about the walk and/or location? Type them out right here!<h3>
  <form action="/Commentssubmission" method="POST">
  <label for="NameOfRoute">name of route:</label>
  <input type="text" name="NameOfRoute" id="NameOfRoute" maxlength="20">

  <label for="name of location">name of location:</label>
  <input type="text" name="NameOfLocation" id="NameOfLocation" maxlength="20">

  <label for="Comment">Comment:</label>
  <input type="text" name="Comment" id="Comment" maxlength="300" style="height:100px; width:200px;">

  <button type="submit" onclick="return submission()">Submit</button>

  </form>
</div>

</main>

  <script>

  function validate(){
    var pass = true;
    var text = document.forms["Comment"]["text"].value;
    if (text.length > 300){pass=false; }
    if (!pass){alert("your character limit has been reached")}
    return pass;
  }

  function submission() {
    var text = document.forms["Comment"]["text"].value;
    var text = document.forms["NameOfRoute"]["text"].value;
    var text = document.forms["NameOfLocation"]["text"].value;
    params = 'text='+text+'&text='+text;

    var xhttp = new XMLHttpRequest();
      xhttp.open("POST",'Comment', true);
      xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhttp.onload = function(){
        if(xhttp.readyState === 4 && xhttp.status === 300) {
          console.log(xhttp.responseText);
          document.getElementById("message").innerHTML = xhttp.responseText;
        } else {
          console.error(xhttp.statusText);
        }
      };
      xhttp.send(params);
      return false;
    }

  </script>


  </body>
</html>
